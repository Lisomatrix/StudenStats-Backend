webpackJsonp([29],{1048:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function l(e,n){var t=new FileReader;t.addEventListener("load",function(){return n(t.result)}),t.readAsDataURL(e)}function s(e){var n="image/jpeg"===e.type,t="image/png"===e.type;n||t||D.a.error("S\xf3 \xe9 permitido imagens PNG ou JPG!");var a=e.size/1024/1024<2;return a||D.a.error("A imagem n\xe3o pode ter mais de 2MB!"),!!(n&&a||t&&a)}Object.defineProperty(n,"__esModule",{value:!0});var A=t(168),m=(t.n(A),t(90)),p=t.n(m),d=t(570),c=(t.n(d),t(574)),u=t.n(c),C=t(187),h=(t.n(C),t(188)),f=t.n(h),B=t(92),g=(t.n(B),t(11)),x=t.n(g),w=t(579),b=(t.n(w),t(580)),E=t.n(b),y=t(169),v=(t.n(y),t(170)),D=t.n(v),k=t(0),N=t.n(k),_=t(91),O=t(167),j=t(174),U=t(705),q=(t.n(U),function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}()),I=E.a.create({name:"user_form"})(function(e){function n(){var e,t,a,o;i(this,n);for(var s=arguments.length,A=Array(s),m=0;m<s;m++)A[m]=arguments[m];return t=a=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(A))),a.state={disabled:!1,loading:!1},a.handleChange=function(e){if("uploading"===e.file.status)return void a.setState({loading:!0});"done"===e.file.status&&l(e.file.originFileObj,function(n){a.props.handleUploadChange(e),a.setState({imageUrl:n,loading:!1})})},o=t,r(a,o)}return o(n,e),q(n,[{key:"render",value:function(){var e,n=N.a.createElement("div",null,N.a.createElement(x.a,{type:this.state.loading?"loading":"plus"}),N.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.props,i=t.name,r=t.email,o=t.phoneNumber,l=t.address,A=t.form,m=t.disabled,p=t.imgUrl,d=(t.userId,A.getFieldDecorator),c=_.a.httpServerURL+"/user/photo";return N.a.createElement(E.a,{hideRequiredMark:m,layout:"vertical"},N.a.createElement("div",{className:"photo-name-email-container flex-row"},N.a.createElement("div",{className:"user-photo-container"},N.a.createElement("label",{className:"ant-form-item-label label user-photo-upload-title"},"Foto de Perfil"),N.a.createElement(f.a,(e={name:"avatar",listType:"picture-card",className:"user-photo-upload",showUploadList:!1},a(e,"name","file"),a(e,"action",c),a(e,"headers",{Authorization:localStorage.getItem("token")}),a(e,"beforeUpload",s),a(e,"onChange",this.handleChange),e),p?N.a.createElement("img",{src:p,alt:"avatar"}):n)),N.a.createElement("div",{className:"email-and-role-container flex-column"},N.a.createElement(E.a.Item,{className:"name-input-container",label:"Nome"},d("name",{initialValue:i,rules:[{required:!0,message:"Introduza um nome!"}]})(N.a.createElement(u.a,{disabled:this.state.disabled}))),N.a.createElement(E.a.Item,{className:"email-container",label:"Email"},d("email",{initialValue:r,rules:[{required:!0,message:"Introduza um email!"}]})(N.a.createElement(u.a,{disabled:this.state.disabled}))))),N.a.createElement("div",{className:"phone-address-container flex-row"},N.a.createElement(E.a.Item,{className:"phone-container",label:"N\xfamero de telem\xf3vel"},d("phoneNumber",{initialValue:o,rules:[{required:!1,message:"Introduza um n\xfamero de telem\xf3vel!"}]})(N.a.createElement(u.a,{disabled:this.state.disabled}))),N.a.createElement(E.a.Item,{className:"address-container",label:"Morada"},d("address",{initialValue:l,rules:[{required:!0,message:"Introduza uma morada"}]})(N.a.createElement(u.a,{disabled:this.state.disabled,placeholder:"Rua exemplo..."})))))}}]),n}(N.a.Component)),R=function(e){function n(){var e,t,a,o;i(this,n);for(var s=arguments.length,A=Array(s),m=0;m<s;m++)A[m]=arguments[m];return t=a=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(A))),a.state={changed:!1},a.handleChange=function(e){"done"===e.file.status&&l(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})})},a._saveFormRef=function(e){a.formRef=e},a._saveEdits=function(){a.formRef.props.form.validateFields(function(e,n){if(console.log(e),!e){var t={name:n.name,address:n.address,phoneNumber:n.phoneNumber?n.phoneNumber:"",roleId:a.props.user.roleEntityId,email:n.email};console.log(a.props.role),"ROLE_ALUNO"===a.props.role?a.props.requestUpdateStudent(t,a.props.user.userId):"ROLE_PARENT"===a.props.role?a.props.requestUpdateParent(t,a.props.user.userId):"ROLE_ADMIN"===a.props.role?a.props.requestUpdateAdmin(t,a.props.user.userId):"ROLE_PROFESSOR"===a.props.role&&a.props.requestUpdateTeacher(t,a.props.user.userId)}})},o=t,r(a,o)}return o(n,e),q(n,[{key:"shouldComponentUpdate",value:function(e,n){return Object(O.a)(this.props,e,this.state,n)}},{key:"render",value:function(){return N.a.createElement("div",{className:"user-subcontainer"},N.a.createElement(j.b,{when:this.state.changed,message:function(e){return"O tema n\xe3o foi guardado tem a certeza que pretende sair?"}}),N.a.createElement(I,{wrappedComponentRef:this._saveFormRef,name:this.props.user.name,imgUrl:this.props.userPhoto,email:this.props.user.email,address:this.props.user.address,phoneNumber:this.props.user.phoneNumber,handleUploadChange:this.handleChange}),N.a.createElement("div",{style:{width:"100%",height:"30px"}},N.a.createElement(p.a,{onClick:this._saveEdits,type:"primary",style:{float:"right"}},"Guardar")))}}]),n}(N.a.Component);n.default=R},705:function(e,n,t){var a=t(706);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!1};i.transform=void 0;t(565)(a,i);a.locals&&(e.exports=a.locals)},706:function(e,n,t){n=e.exports=t(564)(!0),n.push([e.i,"@media (max-width:600px){.user-edit-management-container{padding:8px!important}.photo-name-email-container{-ms-flex-flow:column!important;flex-flow:column!important}.user-photo-container{width:100%!important;margin:auto!important}.user-photo-upload-title{margin:0!important;max-width:100%!important}.ant-upload-select-picture-card{margin:auto!important}.email-container,.name-input-container,.phone-container{width:100%!important}.phone-address-container{-ms-flex-flow:column!important;flex-flow:column!important}.address-container,.email-container,.name-input-container,.phone-container{margin:0!important}}.ant-upload img{max-width:150px;max-height:150px}.ant-upload{width:150px!important;height:150px!important}.user-photo-container{text-align:center!important;max-width:100%;width:200px;margin-bottom:30px;margin-top:18px;display:block!important}.user-photo-upload-title{text-align:center!important;color:rgba(0,0,0,.85);font-size:14px;text-indent:0;max-width:150px}.user-photo-upload{display:contents;margin:auto;max-width:150px;max-height:150px;width:150px;height:150px}.user-edit-management-container{padding-top:24px;padding-right:24px}.user-edit-management{-webkit-animation-duration:.3s;animation-duration:.3s;padding:18px;padding-top:8px;background-color:#fff}.profession-container{width:40%}.email-and-role-container{width:100%;margin-top:28px!important}.email-container,.name-input-container{width:80%}.user-edit-management-name-container{-webkit-animation-duration:.3s;animation-duration:.3s;width:50%}.phone-container,.role-container{min-width:240px;width:240px}.address-container{margin-left:18px;width:100%}.edit-container{margin-left:30px}.search-student-form-item{text-align:left;width:100%}.search-student-form-item .ant-form-item-label{text-align:left}.classes-select-container{min-width:240px}.classes-select-container .ant-form-item-label{text-align:left!important}.classes-select{min-width:240px}.responsable-select-container{width:100%;margin-left:18px}.responsable-select-container .ant-form-item-label{text-align:left!important}.responsable-select,.responsable-select .ant-select-selection .ant-select-selection--single{min-width:100%}.teacher-disciplines-container{min-width:100%;text-align:left}.flex-row{-ms-flex-flow:row;flex-flow:row}.flex-column,.flex-row{display:-ms-flexbox;display:flex}.flex-column{-ms-flex-flow:column;flex-flow:column}","",{version:3,sources:["C:/Users/Lisomatrix/Desktop/NEW_PAP/bac/Frontend/src/styles/user-management.less"],names:[],mappings:"AAAA,yBACE,gCACE,qBAAwB,CACzB,AACD,4BACE,+BAAiC,AAC7B,0BAA6B,CAClC,AACD,sBACE,qBAAuB,AACvB,qBAAwB,CACzB,AACD,yBACE,mBAAqB,AACrB,wBAA2B,CAC5B,AACD,gCACE,qBAAwB,CACzB,AACD,wDAGE,oBAAuB,CACxB,AACD,yBACE,+BAAiC,AAC7B,0BAA6B,CAClC,AACD,2EAIE,kBAAqB,CACtB,CACF,AACD,gBACE,gBAAiB,AACjB,gBAAkB,CACnB,AACD,YACE,sBAAwB,AACxB,sBAAyB,CAC1B,AACD,sBACE,4BAA8B,AAC9B,eAAgB,AAChB,YAAa,AACb,mBAAoB,AACpB,gBAAiB,AACjB,uBAA0B,CAC3B,AACD,yBACE,4BAA8B,AAC9B,sBAA2B,AAC3B,eAAgB,AAChB,cAAe,AACf,eAAiB,CAClB,AACD,mBACE,iBAAkB,AAClB,YAAa,AACb,gBAAiB,AACjB,iBAAkB,AAClB,YAAa,AACb,YAAc,CACf,AACD,gCACE,iBAAkB,AAClB,kBAAoB,CACrB,AACD,sBACE,+BAAiC,AACzB,uBAAyB,AACjC,aAAc,AACd,gBAAiB,AACjB,qBAA0B,CAC3B,AACD,sBACE,SAAW,CACZ,AACD,0BACE,WAAY,AACZ,yBAA4B,CAC7B,AAID,uCACE,SAAW,CACZ,AACD,qCACE,+BAAiC,AACzB,uBAAyB,AACjC,SAAW,CACZ,AACD,iCAEE,gBAAiB,AACjB,WAAa,CACd,AACD,mBACE,iBAAkB,AAClB,UAAY,CACb,AACD,gBACE,gBAAkB,CACnB,AACD,0BACE,gBAAiB,AACjB,UAAY,CACb,AACD,+CACE,eAAiB,CAClB,AACD,0BACE,eAAiB,CAClB,AACD,+CACE,yBAA4B,CAC7B,AACD,gBACE,eAAiB,CAClB,AACD,8BACE,WAAY,AACZ,gBAAkB,CACnB,AACD,mDACE,yBAA4B,CAC7B,AAID,4FACE,cAAgB,CACjB,AACD,+BACE,eAAgB,AAChB,eAAiB,CAClB,AACD,UAGE,kBAAmB,AACf,aAAe,CACpB,AACD,uBALE,oBAAqB,AACrB,YAAc,CASf,AALD,aAGE,qBAAsB,AAClB,gBAAkB,CACvB",file:"user-management.less",sourcesContent:["@media (max-width: 600px) {\n  .user-edit-management-container {\n    padding: 8px !important;\n  }\n  .photo-name-email-container {\n    -ms-flex-flow: column !important;\n        flex-flow: column !important;\n  }\n  .user-photo-container {\n    width: 100% !important;\n    margin: auto !important;\n  }\n  .user-photo-upload-title {\n    margin: 0 !important;\n    max-width: 100% !important;\n  }\n  .ant-upload-select-picture-card {\n    margin: auto !important;\n  }\n  .name-input-container,\n  .email-container,\n  .phone-container {\n    width: 100% !important;\n  }\n  .phone-address-container {\n    -ms-flex-flow: column !important;\n        flex-flow: column !important;\n  }\n  .address-container,\n  .phone-container,\n  .email-container,\n  .name-input-container {\n    margin: 0 !important;\n  }\n}\n.ant-upload img {\n  max-width: 150px;\n  max-height: 150px;\n}\n.ant-upload {\n  width: 150px !important;\n  height: 150px !important;\n}\n.user-photo-container {\n  text-align: center !important;\n  max-width: 100%;\n  width: 200px;\n  margin-bottom: 30px;\n  margin-top: 18px;\n  display: block !important;\n}\n.user-photo-upload-title {\n  text-align: center !important;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 14px;\n  text-indent: 0;\n  max-width: 150px;\n}\n.user-photo-upload {\n  display: contents;\n  margin: auto;\n  max-width: 150px;\n  max-height: 150px;\n  width: 150px;\n  height: 150px;\n}\n.user-edit-management-container {\n  padding-top: 24px;\n  padding-right: 24px;\n}\n.user-edit-management {\n  -webkit-animation-duration: 0.3s;\n          animation-duration: 0.3s;\n  padding: 18px;\n  padding-top: 8px;\n  background-color: #ffffff;\n}\n.profession-container {\n  width: 40%;\n}\n.email-and-role-container {\n  width: 100%;\n  margin-top: 28px !important;\n}\n.email-container {\n  width: 80%;\n}\n.name-input-container {\n  width: 80%;\n}\n.user-edit-management-name-container {\n  -webkit-animation-duration: 0.3s;\n          animation-duration: 0.3s;\n  width: 50%;\n}\n.role-container,\n.phone-container {\n  min-width: 240px;\n  width: 240px;\n}\n.address-container {\n  margin-left: 18px;\n  width: 100%;\n}\n.edit-container {\n  margin-left: 30px;\n}\n.search-student-form-item {\n  text-align: left;\n  width: 100%;\n}\n.search-student-form-item .ant-form-item-label {\n  text-align: left;\n}\n.classes-select-container {\n  min-width: 240px;\n}\n.classes-select-container .ant-form-item-label {\n  text-align: left !important;\n}\n.classes-select {\n  min-width: 240px;\n}\n.responsable-select-container {\n  width: 100%;\n  margin-left: 18px;\n}\n.responsable-select-container .ant-form-item-label {\n  text-align: left !important;\n}\n.responsable-select {\n  min-width: 100%;\n}\n.responsable-select .ant-select-selection .ant-select-selection--single {\n  min-width: 100%;\n}\n.teacher-disciplines-container {\n  min-width: 100%;\n  text-align: left;\n}\n.flex-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row;\n      flex-flow: row;\n}\n.flex-column {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: column;\n      flex-flow: column;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=29.1c96337f.chunk.js.map