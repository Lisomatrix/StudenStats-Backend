webpackJsonp([28],{1345:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(172),i=(n.n(s),n(173)),c=n.n(i),u=n(579),l=(n.n(u),n(580)),d=n.n(l),m=n(570),A=(n.n(m),n(574)),p=n.n(A),f=n(575),C=(n.n(f),n(576)),h=n.n(C),w=n(169),x=(n.n(w),n(170)),g=n.n(x),B=n(168),E=(n.n(B),n(90)),b=n.n(E),y=n(0),v=n.n(y),k=n(88),N=n(1346),_=(n.n(N),n(595)),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),D=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={dataChanged:!0,data:[],isEdit:!1,modalVisible:!1,addCourseName:"",editCourseName:"",editCourseId:void 0},r.columns=[{title:"Curso",dataIndex:"course",width:"80%",key:"course",render:function(e,t,n){return v.a.createElement("a",{href:"javascript:;"},e)}},{title:"Editar",dataIndex:"action",width:"10%",key:"action",render:function(e,t,n){return v.a.createElement(b.a,{onClick:function(){return r._showEditModal(t.key,t.course)},icon:"edit",type:"dashed",shape:"circle"})}}],r._showEditModal=function(e,t){r.setState({modalVisible:!0,isEdit:!0,editCourseId:e,editCourseName:t})},r._showCreateModal=function(){r.setState({modalVisible:!0,isEdit:!1})},r._onModalOk=function(){r.state.isEdit?r.props.requestUpdateCourse({name:r.state.editCourseName},r.state.editCourseId).then(function(e){e?r.setState({modalVisible:!1,dataChanged:!0},function(){g.a.success("Curso alterado!")}):g.a.error("Ocurreu um erro ao alterar o curso!")}):r.props.requestNewCourse({name:r.state.addCourseName}).then(function(e){e?r.setState({modalVisible:!1,dataChanged:!0},function(){g.a.success("Curso adicionado!")}):g.a.error("Ocurreu um erro ao adicionar o curso!")})},s=n,o(r,s)}return r(t,e),O(t,[{key:"componentWillMount",value:function(){var e=this;this.props.courses||this.props.requestCourses().then(function(){return e.setState({dataChanged:!0})})}},{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentWillUpdate",value:function(e,t){if(t.dataChanged&&e.courses){for(var n=[],a=0;a<e.courses.length;a++)n.push({key:e.courses[a].courseId,course:e.courses[a].name});t.data=n,t.dataChanged=!1}}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"courses-management-container flex-column"},v.a.createElement("div",{className:"ant-card-bordered animated slideInUp courses-management"},v.a.createElement("div",{className:"flex-row"},v.a.createElement("div",{className:"white-space-container"}," "),v.a.createElement("div",{className:"add-course-container"},v.a.createElement(b.a,{onClick:this._showCreateModal,type:"primary"},"Adicionar Curso"))),v.a.createElement(h.a,{style:{marginTop:"18px"},dataSource:this.state.data,columns:this.columns}),v.a.createElement(c.a,{onOk:this._onModalOk,onCancel:function(){return e.setState({modalVisible:!1})},okText:this.state.isEdit?"Guardar Altera\xe7\xf5es":"Adicionar Curso",visible:this.state.modalVisible},this.state.isEdit?v.a.createElement("div",null,v.a.createElement("h2",null,"Editar Curso"),v.a.createElement("div",{className:"course-modal-container flex-column"},v.a.createElement(d.a.Item,{label:"Nome"},v.a.createElement(p.a,{onChange:function(t){return e.setState({editCourseName:t.target.value})},value:this.state.editCourseName,placeholder:"Nome do curso..."})))):v.a.createElement("div",null,v.a.createElement("h2",null,"Adicionar Curso"),v.a.createElement("div",{className:"course-modal-container flex-column"},v.a.createElement(d.a.Item,{label:"Nome"},v.a.createElement(p.a,{onChange:function(t){return e.setState({addCourseName:t.target.value})},value:this.state.addCourseName,placeholder:"Nome do curso..."})))))))}}]),t}(v.a.Component),S={requestCourses:_.e,requestUpdateCourse:_.n,requestNewCourse:_.h},j=function(e){return{courses:e.classes.courses}};t.default=Object(k.b)(j,S)(D)},1346:function(e,t,n){var a=n(1347);"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!1};o.transform=void 0;n(565)(a,o);a.locals&&(e.exports=a.locals)},1347:function(e,t,n){t=e.exports=n(564)(!0),t.push([e.i,"@media (max-width:600px){.courses-management-container{padding:8px!important;height:100%}.white-space-container{width:0!important}.add-course-container{width:100%!important}.add-course-container button{width:100%!important;height:40px}}.courses-management-container{padding-top:24px;padding-right:24px;background-color:transparent!important}.courses-management{-webkit-animation-duration:.3s;animation-duration:.3s;padding:18px;background-color:#fff}.course-modal-container,.white-space-container{width:100%}.add-course-container{width:auto}.flex-row{-ms-flex-flow:row;flex-flow:row}.flex-column,.flex-row{display:-ms-flexbox;display:flex}.flex-column{-ms-flex-flow:column;flex-flow:column}","",{version:3,sources:["C:/Users/Lisomatrix/Desktop/NEW_PAP/bac/Frontend/src/styles/courses-management.less"],names:[],mappings:"AAAA,yBACE,8BACE,sBAAwB,AACxB,WAAa,CACd,AACD,uBACE,iBAAoB,CACrB,AACD,sBACE,oBAAuB,CACxB,AACD,6BACE,qBAAuB,AACvB,WAAa,CACd,CACF,AACD,8BACE,iBAAkB,AAClB,mBAAoB,AACpB,sCAAyC,CAC1C,AACD,oBACE,+BAAiC,AACzB,uBAAyB,AACjC,aAAc,AACd,qBAA0B,CAC3B,AAID,+CACE,UAAY,CACb,AACD,sBACE,UAAY,CACb,AACD,UAGE,kBAAmB,AACf,aAAe,CACpB,AACD,uBALE,oBAAqB,AACrB,YAAc,CASf,AALD,aAGE,qBAAsB,AAClB,gBAAkB,CACvB",file:"courses-management.less",sourcesContent:["@media (max-width: 600px) {\n  .courses-management-container {\n    padding: 8px !important;\n    height: 100%;\n  }\n  .white-space-container {\n    width: 0 !important;\n  }\n  .add-course-container {\n    width: 100% !important;\n  }\n  .add-course-container button {\n    width: 100% !important;\n    height: 40px;\n  }\n}\n.courses-management-container {\n  padding-top: 24px;\n  padding-right: 24px;\n  background-color: transparent !important;\n}\n.courses-management {\n  -webkit-animation-duration: 0.3s;\n          animation-duration: 0.3s;\n  padding: 18px;\n  background-color: #ffffff;\n}\n.course-modal-container {\n  width: 100%;\n}\n.white-space-container {\n  width: 100%;\n}\n.add-course-container {\n  width: auto;\n}\n.flex-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row;\n      flex-flow: row;\n}\n.flex-column {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: column;\n      flex-flow: column;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=28.1ca3a288.chunk.js.map